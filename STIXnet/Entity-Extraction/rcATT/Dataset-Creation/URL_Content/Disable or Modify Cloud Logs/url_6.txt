az monitor diagnostic-settings Manage service diagnostic settings. Commands |Name |Description |Type |Status |az monitor diagnostic-settings categories | Retrieve service diagnostic settings categories. |Core |GA |az monitor diagnostic-settings categories list | List the diagnostic settings categories for the specified resource. |Core |GA |az monitor diagnostic-settings categories show | Gets the diagnostic settings category for the specified resource. |Core |GA |az monitor diagnostic-settings create | Create diagnostic settings for the specified resource. For more information, visit: https://docs.microsoft.com/rest/api/monitor/diagnosticsettings/createorupdate#metricsettings. |Core |GA |az monitor diagnostic-settings delete | Deletes existing diagnostic settings for the specified resource. |Core |GA |az monitor diagnostic-settings list | Gets the active diagnostic settings list for the specified resource. |Core |GA |az monitor diagnostic-settings show | Gets the active diagnostic settings for the specified resource. |Core |GA |az monitor diagnostic-settings subscription | Manage diagnostic settings for subscription. |Core |GA |az monitor diagnostic-settings subscription create | Create subscription diagnostic settings for the specified resource. |Core |GA |az monitor diagnostic-settings subscription delete | Deletes existing subscription diagnostic settings for the specified resource. |Core |GA |az monitor diagnostic-settings subscription list | Gets the active subscription diagnostic settings list for the specified subscriptionId. :keyword callable cls: A custom type or function that will be passed the direct response:return: SubscriptionDiagnosticSettingsResourceCollection or the result of cls(response):rtype: ~$(python-base-namespace).v2017_05_01_preview.models.SubscriptionDiagnosticSettingsResourceCollection:raises ~azure.core.exceptions.HttpResponseError:. |Core |GA |az monitor diagnostic-settings subscription show | Gets the active subscription diagnostic settings for the specified resource. |Core |GA |az monitor diagnostic-settings subscription update | Update subscription diagnostic settings for the specified resource. |Core |GA |az monitor diagnostic-settings update | Update diagnostic settings for the specified resource. |Core |GA az monitor diagnostic-settings create Create diagnostic settings for the specified resource. For more information, visit: https://docs.microsoft.com/rest/api/monitor/diagnosticsettings/createorupdate#metricsettings. az monitor diagnostic-settings create --name --resource [--event-hub] [--event-hub-rule] [--export-to-resource-specific {0, 1, f, false, n, no, t, true, y, yes}] [--logs] [--marketplace-partner-id] [--metrics] [--resource-group] [--resource-namespace] [--resource-parent] [--resource-type] [--storage-account] [--workspace] Examples Create diagnostic settings, retention here only applies when the target is a storage account. az monitor diagnostic-settings create --resource {ID} -n {name} --storage-account {storageAccount} --logs "[{category:WorkflowRuntime,enabled:true,retention-policy:{enabled:false,days:0}}]" --metrics "[{category:WorkflowRuntime,enabled:true,retention-policy:{enabled:false,days:0}}]" Required Parameters The name of the diagnostic setting. Required. Name or ID of the target resource. Optional Parameters Name or ID an event hub. If none is specified, the default event hub will be selected. Name or ID of the event hub authorization rule. Indicate that the export to LA must be done to a resource specific table, a.k.a. dedicated or fixed schema table, as opposed to the default dynamic schema table called AzureDiagnostics. This argument is effective only when the argument --workspace is also given. Allowed values: false, true. JSON encoded list of logs settings. Use '@{file}' to load from a file.For more information, visit: https://docs.microsoft.com/rest/api/monitor/diagnosticsettings/createorupdate#logsettings. Support shorthand-syntax, json-file and yaml-file. Try "??" to show more. The full ARM resource ID of the Marketplace resource to which you would like to send Diagnostic Logs. The list of metric settings. Support shorthand-syntax, json-file and yaml-file. Try "??" to show more. Name of resource group. You can configure the default group using az configure --defaults group=<name>. Target resource provider namespace. Target resource parent path, if applicable. Target resource type. Can also accept namespace/type format (Ex: 'Microsoft.Compute/virtualMachines'). Name or ID of the storage account to send diagnostic logs to. Name or ID of the Log Analytics workspace to send diagnostic logs to. Global Parameters Increase logging verbosity to show all debug logs. Show this help message and exit. Only show errors, suppressing warnings. Output format. Name or ID of subscription. You can configure the default subscription using az account set -s NAME_OR_ID. Increase logging verbosity. Use --debug for full debug logs. az monitor diagnostic-settings delete Deletes existing diagnostic settings for the specified resource. az monitor diagnostic-settings delete --name --resource [--resource-group] [--resource-namespace] [--resource-parent] [--resource-type] Required Parameters The name of the diagnostic setting. Required. Name or ID of the target resource. Optional Parameters Name of resource group. You can configure the default group using az configure --defaults group=<name>. Target resource provider namespace. Target resource parent path, if applicable. Target resource type. Can also accept namespace/type format (Ex: 'Microsoft.Compute/virtualMachines'). Global Parameters Increase logging verbosity to show all debug logs. Show this help message and exit. Only show errors, suppressing warnings. Output format. Name or ID of subscription. You can configure the default subscription using az account set -s NAME_OR_ID. Increase logging verbosity. Use --debug for full debug logs. az monitor diagnostic-settings list Gets the active diagnostic settings list for the specified resource. az monitor diagnostic-settings list --resource [--resource-group] [--resource-namespace] [--resource-parent] [--resource-type] Required Parameters Name or ID of the target resource. Optional Parameters Name of resource group. You can configure the default group using az configure --defaults group=<name>. Target resource provider namespace. Target resource parent path, if applicable. Target resource type. Can also accept namespace/type format (Ex: 'Microsoft.Compute/virtualMachines'). Global Parameters Increase logging verbosity to show all debug logs. Show this help message and exit. Only show errors, suppressing warnings. Output format. Name or ID of subscription. You can configure the default subscription using az account set -s NAME_OR_ID. Increase logging verbosity. Use --debug for full debug logs. az monitor diagnostic-settings show Gets the active diagnostic settings for the specified resource. az monitor diagnostic-settings show --name --resource [--resource-group] [--resource-namespace] [--resource-parent] [--resource-type] Required Parameters The name of the diagnostic setting. Required. Name or ID of the target resource. Optional Parameters Name of resource group. You can configure the default group using az configure --defaults group=<name>. Target resource provider namespace. Target resource parent path, if applicable. Target resource type. Can also accept namespace/type format (Ex: 'Microsoft.Compute/virtualMachines'). Global Parameters Increase logging verbosity to show all debug logs. Show this help message and exit. Only show errors, suppressing warnings. Output format. Name or ID of subscription. You can configure the default subscription using az account set -s NAME_OR_ID. Increase logging verbosity. Use --debug for full debug logs. az monitor diagnostic-settings update Update diagnostic settings for the specified resource. az monitor diagnostic-settings update --name --resource [--add] [--event-hub] [--event-hub-rule] [--force-string {0, 1, f, false, n, no, t, true, y, yes}] [--log-ana-dtype] [--logs] [--marketplace-partner-id] [--metrics] [--remove] [--resource-group] [--resource-namespace] [--resource-parent] [--resource-type] [--service-bus-rule-id] [--set] [--storage-account-id] [--workspace-id] Required Parameters The name of the diagnostic setting. Required. Name or ID of the target resource. Optional Parameters Add an object to a list of objects by specifying a path and key value pairs. Example: --add property.listProperty <key=value, string or JSON string>. The name of the event hub. If none is specified, the default event hub will be selected. The resource Id for the event hub authorization rule. When using 'set' or 'add', preserve string literals instead of attempting to convert to JSON. A string indicating whether the export to Log Analytics should use the default destination type, i.e. AzureDiagnostics, or use a destination type constructed as follows: _. Possible values are: Dedicated and null (null is default.). The list of logs settings. Support shorthand-syntax, json-file and yaml-file. Try "??" to show more. The full ARM resource ID of the Marketplace resource to which you would like to send Diagnostic Logs. The list of metric settings. Support shorthand-syntax, json-file and yaml-file. Try "??" to show more. Remove a property or an element from a list. Example: --remove property.list OR --remove propertyToRemove. Name of resource group. You can configure the default group using az configure --defaults group=<name>. Target resource provider namespace. Target resource parent path, if applicable. Target resource type. Can also accept namespace/type format (Ex: 'Microsoft.Compute/virtualMachines'). The service bus rule Id of the diagnostic setting. This is here to maintain backwards compatibility. Update an object by specifying a property path and value to set. Example: --set property1.property2=. The resource ID of the storage account to which you would like to send Diagnostic Logs. The full ARM resource ID of the Log Analytics workspace to which you would like to send Diagnostic Logs. Example: /subscriptions/4b9e8510-67ab-4e9a-95a9-e2f1e570ea9c/resourceGroups/insights-integration/providers/Microsoft.OperationalInsights/workspaces/viruela2. Global Parameters Increase logging verbosity to show all debug logs. Show this help message and exit. Only show errors, suppressing warnings. Output format. Name or ID of subscription. You can configure the default subscription using az account set -s NAME_OR_ID. Increase logging verbosity. Use --debug for full debug logs. Feedback Submit and view feedback for