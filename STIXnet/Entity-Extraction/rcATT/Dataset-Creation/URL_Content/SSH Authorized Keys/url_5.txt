- NAME - - gcloud compute instances add-metadata - add or update instance metadata - SYNOPSIS - - gcloud compute instances add-metadata INSTANCE_NAME[ --metadata= KEY= VALUE,[ KEY= VALUE,бн]] [ --metadata-from-file= KEY= LOCAL_FILE_PATH,[бн]] [ --zone= ZONE] [ GCLOUD_WIDE_FLAG бн] - - DESCRIPTION - gcloud compute instances add-metadata can be used to add or update the metadata of a virtual machine instance. Every instance has access to a metadata server that can be used to query metadata that has been set through this tool. For information on metadata, see https://cloud.google.com/compute/docs/metadata Only metadata keys that are provided are mutated. Existing metadata entries will remain unaffected. In order to retrieve custom metadata, run: gcloud compute instances describe example-instance --zoneus-central1-a --format="value(metadata)" where example-instance is the name of the virtual machine instance you're querying custom metadata from. For more information about querying custom instance or project metadata through the Cloud Platform Console or the API, see https://cloud.google.com/compute/docs/storing-retrieving-metadata#querying_custom_metadata. If you are using this command to manage SSH keys for your project, please note the risks of manual SSH key management as well as the required format for SSH key metadata, available at https://cloud.google.com/compute/docs/instances/adding-removing-ssh-keys. - EXAMPLES - To add metadata under key to an instance named important-data , run: test-instance gcloud compute instances add-metadata test-instance --metadata=important-data="2 plus 2 equals 4" To add multiple key-value pairs at once, separate them with commas: gcloud compute instances add-metadata test-instance --metadata=important-data="2 plus 2 equals 4",unimportant-data=zero - POSITIONAL ARGUMENTS - INSTANCE_NAME - Name of the instance to set metadata on. For details on valid instance names, refer to the criteria documented under the field 'name' at: https://cloud.google.com/compute/docs/reference/rest/v1/instances - - FLAGS - --metadata= KEY= VALUE,[ KEY= VALUE,бн] - Metadata to be made available to the guest operating system running on the instances. Each metadata entry is a key/value pair separated by an equals sign. Each metadata key must be unique and have a max of 128 bytes in length. Each value must have a max of 256 KB in length. Multiple arguments can be passed to this flag, e.g., . The combined total size for all metadata entries is 512 KB. --metadata key-1=value-1,key-2=value-2,key-3=value-3 In images that have Compute Engine tools installed on them, such as the official images, the following metadata keys have special meanings: startup-script - Specifies a script that will be executed by the instances once they start running. For convenience, can be used to pull the value from a file. --metadata-from-file startup-script-url - Same as except that the script contents are pulled from a publicly-accessible location on the web. For startup scripts on Windows instances, the following metadata keys have special meanings: startup-script , windows-startup-script-url , windows-startup-script-cmd , windows-startup-script-bat , windows-startup-script-ps1 , sysprep-specialize-script-url , sysprep-specialize-script-cmd , and sysprep-specialize-script-bat . For more information, see Running startup scripts. At least one of [--metadata] or [--metadata-from-file] is required. sysprep-specialize-script-ps1 - --metadata-from-file= KEY= LOCAL_FILE_PATH,[бн] - Same as except that the value for the entry will be read from a local file. This is useful for values that are too large such as --metadata contents. At least one of [--metadata] or [--metadata-from-file] is required. startup-script --zone= ZONE - Zone of the instance to set metadata on. If not specified, you might be prompted to select a zone (interactive mode only). gcloudattempts to identify the appropriate zone by searching for resources in your currently active project. If the zone cannot be determined, gcloudprompts you for a selection with all available Google Cloud Platform zones. To avoid prompting when this flag is omitted, the user can set the property: compute/zone gcloud config set compute/zone ZONE A list of zones can be fetched by running: gcloud compute zones list To unset the property, run: gcloud config unset compute/zone Alternatively, the zone can be stored in the environment variable . CLOUDSDK_COMPUTE_ZONE - - GCLOUD WIDE FLAGS - These flags are available to all commands: --access-token-file, --account, --billing-project, --configuration, --flags-file, --flatten, --format, --help, --impersonate-service-account, --log-http, --project, --quiet, --trace-token, --user-output-enabled, --verbosity. Run $ gcloud helpfor details. - NOTES - These variants are also available: gcloud alpha compute instances add-metadata gcloud beta compute instances add-metadata Except as otherwise noted, the content of this page is licensed under the Creative Commons Attribution 4.0 License, and code samples are licensed under the Apache 2.0 License. For details, see the Google Developers Site Policies. Java is a registered trademark of Oracle and/or its affiliates. Last updated 2023-05-02 UTC. [{ "type": "thumb-down", "id": "hardToUnderstand", "label":"Hard to understand" },{ "type": "thumb-down", "id": "incorrectInformationOrSampleCode", "label":"Incorrect information or sample code" },{ "type": "thumb-down", "id": "missingTheInformationSamplesINeed", "label":"Missing the information/samples I need" },{ "type": "thumb-down", "id": "otherDown", "label":"Other" }] [{ "type": "thumb-up", "id": "easyToUnderstand", "label":"Easy to understand" },{ "type": "thumb-up", "id": "solvedMyProblem", "label":"Solved my problem" },{ "type": "thumb-up", "id": "otherUp", "label":"Other" }]